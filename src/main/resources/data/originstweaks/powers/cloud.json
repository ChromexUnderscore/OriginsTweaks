{
  "type": "origins:multiple",
  "name": "Personal Cloud",
  "description": "When outside of Water, you can summon a Personal Cloud that follows you around, providing you with enough water to survive for up to 5 minutes. Use it wisely, because it takes double as long to charge it up!",
  "toggle": {
    "type": "origins:toggle",
    "active_by_default": false,
    "key": {
      "key": "key.origins.secondary_active"
    },
    "condition": {
      "type": "origins:resource",
      "resource": "*:*_cloud_resource",
      "comparison": "!=",
      "compare_to": 0
    }
  },
  "cloud_resource": {
    "type": "origins:resource",
    "min": 0,
    "max": 300,
    "hud_render": {
      "bar_index": 1,
      "condition": {
        "type": "origins:resource",
        "resource": "*:*_cloud_resource",
        "comparison": "!=",
        "compare_to": 300
      }
    },
    "min_action": {
      "type": "origins:toggle",
      "power": "*:*_toggle"
    }
  },
  "cloud_resource_gain": {
    "type": "origins:action_over_time",
    "entity_action": {
      "type": "origins:change_resource",
      "resource": "*:*_cloud_resource",
      "change": 1
    },
    "interval": 40,
    "condition": {
      "type": "origins:in_block",
      "block_condition": {
        "type": "origins:block",
        "block": "minecraft:water"
      }
    }
  },
  "cloud_resource_drain": {
    "type": "origins:action_over_time",
    "entity_action": {
      "type": "origins:change_resource",
      "resource": "*:*_cloud_resource",
      "change": -1
    },
    "interval": 20,
    "condition": {
      "type": "origins:power_active",
      "power": "*:*_toggle"
    }
  },
  "disable": {
    "type": "origins:action_over_time",
    "rising_action": {
      "type": "origins:toggle",
      "power": "*:*_toggle"
    },
    "interval": 2,
    "condition": {
      "type": "origins:and",
      "conditions": [
        {
          "type": "origins:power_active",
          "power": "*:*_toggle"
        },
        {
          "type": "origins:in_block",
          "block_condition": {
            "type": "origins:block",
            "block": "minecraft:water"
          }
        }
      ]
    }
  },
  "moist": {
    "type": "origins:action_over_time",
    "entity_action": {
      "type": "origins:gain_air",
      "value": 2
    },
    "interval": 2,
    "condition": {
      "type": "origins:power_active",
      "power": "*:*_toggle"
    }
  },
  "visual": {
    "type": "origins:action_over_time",
    "entity_action": {
      "type": "origins:and",
      "actions": [
        {
          "type": "origins:execute_command",
          "command": "particle minecraft:falling_water ~ ~5 ~ 1 0.5 1 2 10 force"
        },
        {
          "type": "origins:execute_command",
          "command": "particle minecraft:cloud ~ ~5 ~ 1.5 0.5 1.5 0.0001 100"
        }
      ]
    },
    "interval": 2,
    "condition": {
      "type": "origins:power_active",
      "power": "*:*_toggle"
    }
  }
}